{"version":3,"file":"static/js/74.de5b470b.chunk.js","mappings":"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","sources":["ui/pages/Rewiew/Review.styled.js","ui/pages/Rewiew/ReviewItem/ReviewItem.styled.js","ui/pages/Rewiew/ReviewItem/ReviewItem.jsx","ui/pages/Rewiew/Review.jsx"],"sourcesContent":["import styled from '@emotion/styled';\n\nexport const ReviewTitle = styled.h2`\n    margin-bottom: 20px;\n    text-transform: capitalize;\n    color: ${({ theme }) => theme.colors.themeText};\n    transition: color ${({ theme }) => theme.baseTransition};\n`;\n","import styled from '@emotion/styled';\n\nexport const RevievItemStyled = styled.li`\n    padding: 20px;\n    background-color: ${({ theme }) => theme.colors.accent};\n    color: ${({ theme }) => theme.colors.white};\n    &:not(:last-child) {\n        margin-bottom: 20px;\n    }\n`;\n\nexport const ReviewAutor = styled.h3`\n    margin-bottom: 20px;\n    text-transform: capitalize;\n`;\n\nexport const ReviewWrapper = styled.div`\n    position: relative;\n    overflow-y: hidden;\n    height: ${({ expandedH }) => expandedH}px;\n    transition: height 0.5s;\n    &.expanded {\n        height: ${({ clientH }) => clientH}px;\n    }\n`;\n\nexport const ReviewGradient = styled.div`\n    position: absolute;\n    left: 0;\n    bottom: 0;\n    width: 100%;\n    height: 20px;\n    transition: opacity 0.5s;\n    background-image: linear-gradient(${({ theme }) => theme.lg.whiteSpace});\n    &.expanded {\n        opacity: 0;\n    }\n`;\n\nexport const RevieText = styled.p``;\n\nexport const Expander = styled.button`\n    height: 40px;\n    color: ${({ theme }) => theme.colors.light};\n    transition: color 250ms;\n    &:hover {\n        color: ${({ theme }) => theme.colors.white};\n    }\n    &::first-letter {\n        text-transform: uppercase;\n    }\n`;\n","import { useEffect, useRef, useState } from 'react';\nimport {\n    Expander,\n    RevieText,\n    RevievItemStyled,\n    ReviewAutor,\n    ReviewGradient,\n    ReviewWrapper,\n} from './ReviewItem.styled';\nimport { useTranslate } from 'hooks/useTranslate';\n\nexport const ReviewItem = ({ author, content }) => {\n    const { t } = useTranslate();\n\n    const comment = useRef();\n    const commentBox = useRef();\n    const blur = useRef();\n    const [clientHeight, setClientHeight] = useState();\n    const [expandedHeight, setExpandedHeight] = useState();\n    const [expandedReview, setExpandedReview] = useState(false);\n\n    useEffect(() => {\n        const res = comment.current.clientHeight;\n        setClientHeight(res);\n        if (res <= 81) {\n            setExpandedHeight(comment.current.clientHeight);\n        } else setExpandedHeight(81);\n    }, []);\n\n    const hendleClick = () => {\n        commentBox.current.classList.toggle('expanded');\n        blur.current.classList.toggle('expanded');\n        setExpandedReview(!expandedReview);\n    };\n\n    return (\n        <RevievItemStyled>\n            <ReviewAutor>\n                {t('author')}: {author}\n            </ReviewAutor>\n            <ReviewWrapper\n                ref={commentBox}\n                clientH={clientHeight}\n                expandedH={expandedHeight}\n            >\n                <RevieText ref={comment}>{content}</RevieText>\n                {clientHeight >= 81 && <ReviewGradient ref={blur} />}\n            </ReviewWrapper>\n            {clientHeight >= 81 && (\n                <Expander\n                    aria-expanded={expandedReview}\n                    type=\"button\"\n                    onClick={hendleClick}\n                >\n                    {!expandedReview ? t('expand') : t('collapse')}\n                </Expander>\n            )}\n        </RevievItemStyled>\n    );\n};\n","import { ReviewTitle } from './Review.styled';\nimport { useParams } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport { ReviewItem } from './ReviewItem/ReviewItem';\nimport { getDetails } from 'common/services/api';\nimport { Loader } from 'ui/shared/components/Loader';\nimport { Page404 } from '../Page404/Page404';\nimport { useTranslate } from 'hooks/useTranslate';\n\nconst Review = () => {\n    const { t } = useTranslate();\n    const { mediaId } = useParams();\n    const [isLoading, setIsLoading] = useState(false);\n    const [error, setError] = useState(null);\n    const [reviews, setReviews] = useState(null);\n\n    useEffect(() => {\n        if (!mediaId) return;\n        const type = mediaId.split('-')[0];\n        const id = mediaId.split('-')[1];\n        setIsLoading(true);\n        getDetails(type, id, '', '/reviews')\n            .then(data => {\n                setReviews(data.results);\n            })\n            .catch(err => {\n                setError(err.message);\n            })\n            .finally(() => {\n                setIsLoading(false);\n            });\n    }, [mediaId]);\n\n    return (\n        <>\n            {isLoading && <Loader />}\n            {reviews?.length > 0 && (\n                <>\n                    <ReviewTitle>{t('review')}</ReviewTitle>\n                    <ul>\n                        {reviews?.map(review => (\n                            <ReviewItem\n                                key={review.id}\n                                author={review.author}\n                                content={review.content}\n                            />\n                        ))}\n                    </ul>\n                </>\n            )}\n            {reviews?.length < 1 && (\n                <ReviewTitle>Sorry, this movie has no reviews.</ReviewTitle>\n            )}\n            {error && <Page404 />}\n        </>\n    );\n};\n\nexport default Review;\n"],"names":["ReviewTitle","styled","theme","colors","themeText","baseTransition","RevievItemStyled","accent","white","ReviewAutor","ReviewWrapper","expandedH","clientH","ReviewGradient","lg","whiteSpace","RevieText","Expander","light","ReviewItem","author","content","t","useTranslate","comment","useRef","commentBox","blur","useState","clientHeight","setClientHeight","expandedHeight","setExpandedHeight","expandedReview","setExpandedReview","useEffect","res","current","ref","type","onClick","classList","toggle","mediaId","useParams","isLoading","setIsLoading","error","setError","reviews","setReviews","split","id","getDetails","then","data","results","catch","err","message","finally","Loader","length","map","review","Page404"],"sourceRoot":""}