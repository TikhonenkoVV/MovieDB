{"version":3,"file":"static/js/643.19dfa4cb.chunk.js","mappings":"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","sources":["common/services/api.js","common/services/normalize/normalizeCast.js","common/services/normalize/normalizeCrew.js","ui/Layout/globalComponents/components/Loader.jsx","ui/Layout/pages/Media/MediaLayout/FullCast/FullCast.styled.js","ui/Layout/pages/Media/MediaLayout/FullCast/FullCast.jsx"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\nconst API_KEY = '49f12b338a85dcd14c7e661f8eadc77e';\n// const lang = '&language=uk-UA';\nconst lang = '&language=en-US';\n// const lang = '&language=ru-RU';\n\nexport const getMovies = async (mediaType, trands) => {\n    const { data } = await axios.get(\n        `trending/${mediaType}/${trands}?api_key=${API_KEY + lang}`\n    );\n    return data;\n};\n\nexport const getMediaByName = async (mediaTypes, q, page) => {\n    const { data } = await axios.get(\n        `search/${mediaTypes}?api_key=${API_KEY + lang}&page=${page}&query=${q}`\n    );\n    return data;\n};\n\nexport const getDetails = async (mediaType, movieId, details) => {\n    const { data } = await axios.get(\n        `${mediaType}/${movieId}${details}?api_key=${API_KEY + lang}`\n    );\n    return data;\n};\n\nexport const getTrailer = async (mediaType, movieId) => {\n    const { data } = await axios.get(\n        `${mediaType}/${movieId}/videos?api_key=${API_KEY + lang}`\n    );\n    return data;\n};\n\nexport const getPersonsByName = async (q, page) => {\n    const { data } = await axios.get(\n        `search/person?include_adult=false&api_key=${\n            API_KEY + lang\n        }&page=${page}&query=${q}`\n    );\n    return data;\n};\n\nexport const getPersonById = async personId => {\n    const { data } = await axios.get(\n        `person/${personId}?api_key=${API_KEY + lang}`\n    );\n    return data;\n};\n","export const normalizeCast = data => {\n    // const IMAGES_BASE_URL = 'https://image.tmdb.org/t/p/w200/';\n    // const SMALL_IMAGES_BASE_URL =\n    //     'https://image.tmdb.org/t/p/w66_and_h66_face/';\n    const res = data.map(\n        ({\n            id,\n            roles,\n            credit_id,\n            character,\n            name,\n            original_name,\n            profile_path,\n        }) => {\n            const castId = roles ? roles[0].credit_id : credit_id;\n            let role;\n            if (roles) role = roles[0].character;\n            else if (character) role = character;\n            if (!role || role === '') role = 'N/a';\n            const personName = name ?? original_name;\n            return {\n                id,\n                castId,\n                profile_path,\n                personName,\n                role,\n            };\n        }\n    );\n    return res;\n};\n","export const normalizeCrew = crew => {\n    const director = [];\n    const normalList = crew.map(\n        ({\n            id,\n            credit_id,\n            department,\n            job,\n            jobs,\n            name,\n            original_name,\n            profile_path,\n        }) => {\n            const personId = jobs ? jobs[0].credit_id : credit_id;\n            const personName = name ? name : original_name;\n            const person_job = jobs ? jobs[0].job : job;\n            if (\n                department.toLowerCase() === 'directing' &&\n                person_job.toLowerCase() === 'director'\n            )\n                director.push({\n                    id,\n                    credit_id: personId,\n                    personName,\n                    profile_path,\n                    job: person_job,\n                });\n            return {\n                id,\n                credit_id: personId,\n                department,\n                job: person_job,\n                personName,\n                profile_path,\n            };\n        }\n    );\n    const controlList = [];\n    normalList.map(el => {\n        if (!controlList.includes(el.department.toLowerCase())) {\n            return controlList.push(el.department.toLowerCase());\n        } else return null;\n    });\n\n    const list = [];\n    controlList.map(department => {\n        const arr = [];\n        normalList.map(el => {\n            if (el.department.toLowerCase() === department) {\n                const person = arr.find(element => element.id === el.id);\n                if (person) {\n                    return (person.job = `${person.job}, ${el.job}`);\n                } else return arr.push(el);\n            } else return null;\n        });\n        return list.push({ [department]: [...arr] });\n    });\n\n    return { crew: list, director: director };\n};\n","import { ThreeCircles } from 'react-loader-spinner';\nimport { BackDrop } from '../layouts/BackDrop/BackDrop';\n\nexport const Loader = () => {\n    return (\n        <BackDrop>\n            <ThreeCircles\n                height=\"100\"\n                width=\"100\"\n                color=\"#369daf\"\n                wrapperStyle={{\n                    position: 'absolute',\n                    top: '50%',\n                    left: '50%',\n                    transform: 'translate(-50%, -50%)',\n                }}\n                wrapperClass=\"\"\n                visible={true}\n                ariaLabel=\"three-circles-rotating\"\n                outerCircleColor=\"\"\n                innerCircleColor=\"\"\n                middleCircleColor=\"\"\n            />\n        </BackDrop>\n    );\n};\n","import styled from '@emotion/styled';\nimport { Link } from 'react-router-dom';\n\nexport const CreditsWrapper = styled.div`\n    @media ${({ theme }) => theme.breakpoints.m} {\n        display: flex;\n        gap: ${({ theme }) => theme.spacing.retreatM};\n    }\n    @media ${({ theme }) => theme.breakpoints.xl} {\n        gap: ${({ theme }) => theme.spacing.retreatL};\n    }\n`;\n\nexport const CastCrewWrapper = styled.div`\n    flex-basis: calc((100% - 24px) / 2);\n    color: ${({ theme }) => theme.colors.themeText};\n    border: 1px solid #808080;\n    padding: 16px;\n    &:not(:last-child) {\n        margin-bottom: ${({ theme }) => theme.spacing.retreatS};\n        @media ${({ theme }) => theme.breakpoints.s} {\n            margin-bottom: ${({ theme }) => theme.spacing.retreatM};\n        }\n        @media ${({ theme }) => theme.breakpoints.m} {\n            margin-bottom: 0;\n        }\n    }\n`;\n\nexport const MinorTitle = styled.h2`\n    margin-bottom: 16px;\n`;\n\nexport const CardListItem = styled.li`\n    &:not(:last-child) {\n        margin-bottom: 16px;\n    }\n`;\n\nexport const MajorTitle = styled.h3`\n    margin-bottom: 16px;\n`;\n\nexport const Card = styled.li`\n    &:not(:last-child) {\n        margin-bottom: 16px;\n    }\n`;\n\nexport const StyledLink = styled(Link)`\n    display: flex;\n    gap: 16px;\n`;\n\nexport const Poster = styled.img`\n    border-radius: 5px;\n`;\n","import {\n    Card,\n    CastCrewWrapper,\n    StyledLink,\n    MinorTitle,\n    MajorTitle,\n    CardListItem,\n    Poster,\n    CreditsWrapper,\n} from './FullCast.styled';\nimport { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport noPoster from '../../../../../../images/no-poster_66.jpg';\nimport { getDetails } from 'common/services/api';\nimport { normalizeCast } from 'common/services/normalize/normalizeCast';\nimport { normalizeCrew } from 'common/services/normalize/normalizeCrew';\nimport { Loader } from 'ui/Layout/globalComponents/components/Loader';\nimport { Container } from 'ui/Layout/globalComponents/layouts/Container/Container';\n\nexport const FullCast = () => {\n    const IMAGES_BASE_URL = 'https://image.tmdb.org/t/p/w66_and_h66_face';\n    const IMAGES_BASE_URL_RETINA =\n        'https://image.tmdb.org/t/p/w132_and_h132_face';\n\n    const { mediaId } = useParams();\n\n    const [isLoading, setIsLoading] = useState(false);\n    const [error, setError] = useState(null);\n    const [castArray, setCastArray] = useState();\n    const [crewArray, setCrewArray] = useState();\n\n    useEffect(() => {\n        setIsLoading(true);\n        const type = mediaId.split('-')[0];\n        const id = mediaId.split('-')[1];\n        getDetails(\n            type,\n            id,\n            type === 'movie' ? '/credits' : '/aggregate_credits'\n        )\n            .then(data => {\n                setCastArray(normalizeCast(data.cast));\n                setCrewArray(normalizeCrew(data.crew));\n            })\n            .catch(err => {\n                setError(err.message);\n                console.log('full cast', err);\n            })\n            .finally(() => setIsLoading(false));\n    }, [mediaId]);\n\n    return (\n        <section className=\"padding-top\">\n            {isLoading && <Loader />}\n            <Container>\n                <CreditsWrapper>\n                    {castArray?.length > 0 && (\n                        <CastCrewWrapper>\n                            <MinorTitle>Cast</MinorTitle>\n                            <ul>\n                                {castArray?.map(\n                                    ({\n                                        id,\n                                        castId,\n                                        personName,\n                                        profile_path,\n                                        role,\n                                    }) => (\n                                        <Card key={castId}>\n                                            <StyledLink to={`/person/${id}`}>\n                                                <picture>\n                                                    <source\n                                                        srcSet={\n                                                            profile_path\n                                                                ? `${\n                                                                      IMAGES_BASE_URL +\n                                                                      profile_path\n                                                                  } 1x, ${\n                                                                      IMAGES_BASE_URL_RETINA +\n                                                                      profile_path\n                                                                  } 2x`\n                                                                : noPoster\n                                                        }\n                                                    />\n\n                                                    <Poster\n                                                        src={\n                                                            profile_path\n                                                                ? IMAGES_BASE_URL +\n                                                                  profile_path\n                                                                : noPoster\n                                                        }\n                                                        alt={personName}\n                                                    />\n                                                </picture>\n                                                <div>\n                                                    <h3>{personName}</h3>\n                                                    <p>{role}</p>\n                                                </div>\n                                            </StyledLink>\n                                        </Card>\n                                    )\n                                )}\n                            </ul>\n                        </CastCrewWrapper>\n                    )}\n                    {crewArray?.crew?.length > 0 && (\n                        <CastCrewWrapper>\n                            <MinorTitle>Crew</MinorTitle>\n                            <ul>\n                                {crewArray?.crew?.map(el => (\n                                    <CardListItem key={Object.keys(el)[0]}>\n                                        <MajorTitle\n                                            style={{\n                                                textTransform: 'capitalize',\n                                            }}\n                                        >\n                                            {Object.keys(el)[0]}\n                                        </MajorTitle>\n                                        <ul>\n                                            {el[Object.keys(el)[0]]?.map(\n                                                ({\n                                                    id,\n                                                    credit_id,\n                                                    job,\n                                                    personName,\n                                                    profile_path,\n                                                }) => (\n                                                    <Card key={credit_id}>\n                                                        <StyledLink\n                                                            to={`/person/${id}`}\n                                                        >\n                                                            <picture>\n                                                                <source\n                                                                    srcSet={\n                                                                        profile_path\n                                                                            ? `${\n                                                                                  IMAGES_BASE_URL +\n                                                                                  profile_path\n                                                                              } 1x, ${\n                                                                                  IMAGES_BASE_URL_RETINA +\n                                                                                  profile_path\n                                                                              } 2x`\n                                                                            : noPoster\n                                                                    }\n                                                                />\n\n                                                                <Poster\n                                                                    src={\n                                                                        profile_path\n                                                                            ? IMAGES_BASE_URL +\n                                                                              profile_path\n                                                                            : noPoster\n                                                                    }\n                                                                    alt={\n                                                                        personName\n                                                                    }\n                                                                />\n                                                            </picture>\n                                                            <div>\n                                                                <h3>\n                                                                    {personName}\n                                                                </h3>\n                                                                <p>{job}</p>\n                                                            </div>\n                                                        </StyledLink>\n                                                    </Card>\n                                                )\n                                            )}\n                                        </ul>\n                                    </CardListItem>\n                                ))}\n                            </ul>\n                        </CastCrewWrapper>\n                    )}\n                </CreditsWrapper>\n            </Container>\n\n            {/* ЗВЕРНИ УВАГУ!!! */}\n            {error && <></>}\n        </section>\n    );\n};\n"],"names":["axios","API_KEY","lang","getMovies","mediaType","trands","data","getMediaByName","mediaTypes","q","page","getDetails","movieId","details","getTrailer","getPersonById","personId","normalizeCast","map","role","id","roles","credit_id","character","name","original_name","profile_path","castId","personName","normalizeCrew","crew","director","normalList","department","job","jobs","person_job","toLowerCase","push","controlList","el","includes","list","arr","person","find","element","Loader","height","width","color","wrapperStyle","position","top","left","transform","wrapperClass","visible","ariaLabel","outerCircleColor","innerCircleColor","middleCircleColor","CreditsWrapper","styled","theme","breakpoints","m","spacing","retreatM","xl","retreatL","CastCrewWrapper","colors","themeText","retreatS","s","MinorTitle","CardListItem","MajorTitle","Card","StyledLink","Link","Poster","FullCast","IMAGES_BASE_URL","IMAGES_BASE_URL_RETINA","mediaId","useParams","useState","isLoading","setIsLoading","error","setError","castArray","setCastArray","crewArray","setCrewArray","useEffect","type","split","then","cast","catch","err","message","console","log","finally","className","Container","length","to","srcSet","noPoster","src","alt","style","textTransform","Object","keys"],"sourceRoot":""}