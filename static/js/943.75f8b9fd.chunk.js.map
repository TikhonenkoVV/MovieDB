{"version":3,"file":"static/js/943.75f8b9fd.chunk.js","mappings":"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","sources":["ui/pages/CollectionDetails/CollectionInfo/CollectionInfo.styled.js","ui/pages/CollectionDetails/CollectionInfo/CollectionInfo.jsx","ui/pages/CollectionDetails/CollectionList/CollectionList.styled.js","ui/pages/CollectionDetails/CollectionList/CollectionList.jsx","data/genres.js","common/services/getGenresDescription.js","ui/pages/CollectionDetails/CollectionDetails.jsx","common/services/normalize/normalizeCollection.js","common/services/normalize/normalizeParts.js","ui/shared/components/ScoreBar/ScoreBar.styled.js","ui/shared/components/ScoreBar/ScoreBar.jsx","common/services/set-color.js"],"sourcesContent":["import styled from '@emotion/styled';\nimport noPoster from '../../../assets/images/no-poster-backdrop.jpg';\nimport { BACKDROP_W1280 } from 'common/constants';\n\nexport const CollectionWrapper = styled.div`\n    @media ${({ theme }) => theme.breakpoints.xs} {\n        display: grid;\n        grid-template-columns: 140px auto;\n        align-items: start;\n        gap: 20px;\n        padding: ${({ theme }) => theme.spacing.retreatM} 0;\n        background-image: ${({ theme }) => theme.lg.movieInfo},\n            url(${({ bgr }) => (bgr ? BACKDROP_W1280 + bgr : noPoster)});\n        background-position: top;\n        background-repeat: no-repeat;\n        background-size: ${({ itemHeight, theme }) =>\n            `auto calc(${itemHeight}px + ${theme.spacing.retreatM} + ${theme.spacing.retreatM})`};\n        transition: background-color ${({ theme }) => theme.baseTransition};\n    }\n    @media ${({ theme }) => theme.breakpoints.s} {\n        grid-template-columns: 230px auto;\n        grid-template-rows: auto calc(\n                100% - ${({ bgrHeight }) => bgrHeight}px - 20px\n            );\n        background-size: ${({ itemHeight, theme }) =>\n            itemHeight < 385\n                ? 'auto 385px'\n                : `auto calc(${itemHeight}px + ${theme.spacing.retreatM} + ${theme.spacing.retreatM})`};\n        transition: background-color ${({ theme }) => theme.baseTransition};\n    }\n    @media ${({ theme }) => theme.breakpoints.m} {\n        background-position: center;\n        background-size: cover;\n    }\n    @media ${({ theme }) => theme.breakpoints.l} {\n        grid-template-columns: 300px auto;\n    }\n    @media ${({ theme }) => theme.breakpoints.xl} {\n        padding: ${({ theme }) => theme.spacing.retreatL} 0;\n    }\n`;\n\nexport const PosterWrapper = styled.div`\n    @media ${({ theme }) => theme.breakpoints.onlyXs} {\n        background-image: ${({ theme }) => theme.lg.movieInfoOnlyS},\n            url(${({ bgr }) => (bgr ? BACKDROP_W1280 + bgr : noPoster)});\n        background-position: center;\n        background-repeat: no-repeat;\n        background-size: cover;\n        padding: 20px 0;\n    }\n    transition: background ${({ theme }) => theme.baseTransition};\n    @media ${({ theme }) => theme.breakpoints.s} {\n        flex-shrink: 0;\n        margin: 0;\n        padding: 0;\n        background: none;\n        height: auto;\n    }\n    @media ${({ theme }) => theme.breakpoints.onlyM} {\n        margin-bottom: 20px;\n    }\n    @media ${({ theme }) => theme.breakpoints.m} {\n        grid-row: span 2;\n    }\n`;\n\nexport const Poster = styled.img`\n    object-fit: cover;\n    aspect-ratio: 2 / 3;\n    height: 210px;\n    @media ${({ theme }) => theme.breakpoints.s} {\n        width: 230px;\n        height: auto;\n        margin-right: auto;\n    }\n    @media ${({ theme }) => theme.breakpoints.l} {\n        width: 300px;\n    }\n`;\n\nexport const CollectionInfoWrapper = styled.div`\n    color: ${({ theme }) => theme.colors.themeText};\n    transition: color ${({ theme }) => theme.baseTransition};\n    @media ${({ theme }) => theme.breakpoints.onlyXs} {\n        &:not(.end) {\n            margin-bottom: 16px;\n        }\n    }\n    &.end {\n        @media ${({ theme }) => theme.breakpoints.xs} {\n            grid-column: span 2;\n        }\n        @media ${({ theme }) => theme.breakpoints.m} {\n            grid-column: span 1;\n        }\n    }\n`;\n\nexport const TitleMinor = styled.h1`\n    font-size: ${({ theme }) => theme.fontSizes.xxl};\n    margin-bottom: 16px;\n`;\n\nexport const ScoreBox = styled.div`\n    display: flex;\n    align-items: center;\n    flex-wrap: wrap;\n    gap: 20px;\n`;\n\nexport const TitleMajor = styled.h2`\n    margin-bottom: 8px;\n`;\n\nexport const Description = styled.p`\n    &:not(:last-child) {\n        margin-bottom: 16px;\n    }\n`;\n","import {\n    CollectionInfoWrapper,\n    CollectionWrapper,\n    Description,\n    Poster,\n    PosterWrapper,\n    ScoreBox,\n    TitleMajor,\n    TitleMinor,\n} from './CollectionInfo.styled';\nimport { useEffect, useRef, useState } from 'react';\nimport noPoster from '../../../assets/images/no-poster.jpg';\nimport { POSTER_W342 } from 'common/constants';\nimport { ScoreBar } from 'ui/shared/components/ScoreBar/ScoreBar';\n\nexport const CollectionInfo = ({ collection }) => {\n    const {\n        name,\n        overview,\n        poster_path,\n        backdrop_path,\n        vote_average,\n        genre_ids,\n    } = collection;\n\n    const observer = useRef(null);\n    const gridItemRef = useRef(null);\n    const posterRef = useRef(null);\n    const [itemHeight, setItemHeight] = useState(0);\n    const [bgrHeight, setBgrHeight] = useState(0);\n\n    useEffect(() => {\n        const item = gridItemRef.current;\n        const poster = posterRef.current;\n        observer.current = new ResizeObserver(() => {\n            if (gridItemRef.current) {\n                const { clientHeight: itemHeight } = item;\n                const { clientHeight: posterHeight } = poster;\n                if (itemHeight > posterHeight) {\n                    setItemHeight(itemHeight);\n                } else setItemHeight(posterHeight);\n                setBgrHeight(itemHeight);\n            }\n        });\n        observer.current.observe(item);\n    }, []);\n\n    return (\n        <CollectionWrapper\n            itemHeight={itemHeight}\n            bgrHeight={bgrHeight}\n            bgr={backdrop_path}\n        >\n            <PosterWrapper bgr={backdrop_path}>\n                <picture>\n                    <source\n                        srcSet={\n                            poster_path\n                                ? `${POSTER_W342 + poster_path} 1x`\n                                : noPoster\n                        }\n                    />\n\n                    <Poster\n                        ref={posterRef}\n                        src={poster_path ? POSTER_W342 + poster_path : noPoster}\n                        alt={name}\n                    />\n                </picture>\n            </PosterWrapper>\n            <CollectionInfoWrapper ref={gridItemRef}>\n                <TitleMinor>{name}</TitleMinor>\n                <ScoreBox>\n                    <ScoreBar size={1} rating={vote_average} />\n                    <h3>User Score</h3>\n                </ScoreBox>\n            </CollectionInfoWrapper>\n            <CollectionInfoWrapper className=\"end\">\n                <TitleMajor>Owerview</TitleMajor>\n                <Description>{overview}</Description>\n                <TitleMajor>Genres</TitleMajor>\n                <Description>{genre_ids?.map(el => el).join(', ')}</Description>\n            </CollectionInfoWrapper>\n        </CollectionWrapper>\n    );\n};\n","import styled from '@emotion/styled';\nimport { Link } from 'react-router-dom';\n\nexport const StyledList = styled.ul`\n    @media ${({ theme }) => theme.breakpoints.l} {\n        display: flex;\n        flex-wrap: wrap;\n        gap: ${({ theme }) => theme.spacing.retreatM};\n    }\n    @media ${({ theme }) => theme.breakpoints.xl} {\n        gap: ${({ theme }) => theme.spacing.retreatL};\n    }\n`;\n\nexport const StyledLi = styled.li`\n    flex-basis: calc(50% - 12px);\n    border-radius: 16px;\n    overflow: hidden;\n    border: 2px solid ${({ theme }) => theme.colors.accent};\n    background-color: ${({ theme }) => theme.colors.mediumBackground};\n    &:not(:last-child) {\n        margin-bottom: ${({ theme }) => theme.spacing.retreatS};\n        @media ${({ theme }) => theme.breakpoints.s} {\n            margin-bottom: ${({ theme }) => theme.spacing.retreatM};\n        }\n        @media ${({ theme }) => theme.breakpoints.l} {\n            margin-bottom: 0;\n        }\n    }\n`;\n\nexport const StyledLink = styled(Link)`\n    display: flex;\n    gap: ${({ theme }) => theme.spacing.retreatS};\n    align-items: center;\n    text-align: left;\n    @media ${({ theme }) => theme.breakpoints.s} {\n        gap: ${({ theme }) => theme.spacing.retreatM};\n    }\n    @media ${({ theme }) => theme.breakpoints.xl} {\n        gap: ${({ theme }) => theme.spacing.retreatL};\n    }\n`;\n\nexport const MoviePoster = styled.img`\n    flex-shrink: 0;\n    width: 90px;\n    object-fit: cover;\n    aspect-ratio: 2 / 3;\n    @media ${({ theme }) => theme.breakpoints.xs} {\n        width: 150px;\n    }\n`;\n\nexport const MovieInfoWrapper = styled.div`\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    gap: 10px;\n    color: ${({ theme }) => theme.colors.themeText};\n    transition: color ${({ theme }) => theme.baseTransition};\n    @media ${({ theme }) => theme.breakpoints.m} {\n        gap: 20px;\n    }\n`;\n\nexport const MovieInfoTitle = styled.h1`\n    font-size: ${({ theme }) => theme.fontSizes.l};\n`;\n\nexport const ScoreBox = styled.div`\n    display: flex;\n    align-items: center;\n    flex-wrap: wrap;\n    gap: 16px;\n`;\n","import {\n    MovieInfoTitle,\n    MovieInfoWrapper,\n    MoviePoster,\n    ScoreBox,\n    StyledLi,\n    StyledLink,\n    StyledList,\n} from './CollectionList.styled';\nimport noPoster from '../../../assets/images/no-poster.jpg';\nimport { POSTER_W185 } from 'common/constants';\nimport { ScoreBar } from 'ui/shared/components/ScoreBar/ScoreBar';\n\nexport const CollectionList = ({ parts }) => {\n    return (\n        <StyledList>\n            {parts?.map(\n                ({ id, title, poster_path, release_date, vote_average }) => {\n                    return (\n                        <StyledLi key={id}>\n                            <StyledLink to={`/movies/movie-${id}`}>\n                                <MoviePoster\n                                    src={\n                                        poster_path\n                                            ? POSTER_W185 + poster_path\n                                            : noPoster\n                                    }\n                                    alt={title}\n                                />\n                                <MovieInfoWrapper>\n                                    <MovieInfoTitle>{title}</MovieInfoTitle>\n                                    {release_date && (\n                                        <p>Release date: {release_date}</p>\n                                    )}\n                                    <ScoreBox>\n                                        <ScoreBar\n                                            size={0.6}\n                                            rating={vote_average}\n                                        />\n                                        <h3>User Score</h3>\n                                    </ScoreBox>\n                                </MovieInfoWrapper>\n                            </StyledLink>\n                        </StyledLi>\n                    );\n                }\n            )}\n        </StyledList>\n    );\n};\n","export const genres = {\n    id_28: { 'en-US': 'Action', 'uk-UA': 'Бойовик' },\n    id_12: { 'en-US': 'Adventure', 'uk-UA': 'Пригоди' },\n    id_16: { 'en-US': 'Animation', 'uk-UA': 'Мультфільм' },\n    id_35: { 'en-US': 'Comedy', 'uk-UA': 'Комедія' },\n    id_80: { 'en-US': 'Crime', 'uk-UA': 'Кримінал' },\n    id_99: { 'en-US': 'Documentary', 'uk-UA': 'Документальний' },\n    id_18: { 'en-US': 'Drama', 'uk-UA': 'Драма' },\n    id_10751: { 'en-US': 'Family', 'uk-UA': 'Сімейний' },\n    id_14: { 'en-US': 'Fantasy', 'uk-UA': 'Фентезі' },\n    id_36: { 'en-US': 'History', 'uk-UA': 'Історичний' },\n    id_27: { 'en-US': 'Horror', 'uk-UA': 'Жахи' },\n    id_10402: { 'en-US': 'Music', 'uk-UA': 'Музика' },\n    id_9648: { 'en-US': 'Mystery', 'uk-UA': 'Детектив' },\n    id_10749: { 'en-US': 'Romance', 'uk-UA': 'Мелодрама' },\n    id_878: { 'en-US': 'Science Fiction', 'uk-UA': 'Фантастика' },\n    id_10770: { 'en-US': 'TV Movie', 'uk-UA': 'Телефільм' },\n    id_53: { 'en-US': 'Thriller', 'uk-UA': 'Трилер' },\n    id_10752: { 'en-US': 'War', 'uk-UA': 'Військовий' },\n    id_37: { 'en-US': 'Western', 'uk-UA': 'Вестерн' },\n};\n","import { genres } from 'data/genres';\n\nexport const getGenresDescription = iDs => {\n    let res = [];\n    iDs.map(el => {\n        return res.push(genres[`id_${el}`]['en-US']);\n    });\n    return res;\n};\n","import { useEffect, useState } from 'react';\nimport { CollectionInfo } from './CollectionInfo/CollectionInfo';\nimport { CollectionList } from './CollectionList/CollectionList';\nimport { useParams } from 'react-router-dom';\nimport { getDetails } from 'common/services/api';\nimport { normalizeCollection } from 'common/services/normalize/normalizeCollection';\nimport { normalizeParts } from 'common/services/normalize/normalizeParts';\nimport { Container } from 'ui/shared/layouts/Container/Container';\n\nconst CollectionDetails = () => {\n    const { collectionId } = useParams();\n\n    const [first, setFirst] = useState(true);\n    const [collection, setCollection] = useState(null);\n    const [parts, setParts] = useState();\n    const [error, setError] = useState();\n\n    useEffect(() => {\n        if (!first) return;\n        setFirst(false);\n        const id = collectionId.split('-')[1];\n        getDetails('collection', id, '')\n            .then(data => {\n                setCollection(normalizeCollection(data));\n                setParts(normalizeParts(data.parts));\n            })\n            .catch(err => {\n                setError(err.message);\n            })\n            .finally(() => {});\n    }, [first, collectionId]);\n\n    return (\n        <>\n            {collection && (\n                <section>\n                    <Container>\n                        <CollectionInfo collection={collection} />\n                    </Container>\n                </section>\n            )}\n            <section>\n                <Container>\n                    <CollectionList parts={parts} />\n                </Container>\n            </section>\n            {error && console.log(error)}\n        </>\n    );\n};\n\nexport default CollectionDetails;\n","import { getGenresDescription } from '../getGenresDescription';\n\nexport const normalizeCollection = collection => {\n    let rating = [];\n    let genres = [];\n    let genre_ids = [];\n    collection.parts.map(({ vote_average, genre_ids }) => {\n        if (vote_average) rating.push(vote_average);\n        genres.push(...genre_ids);\n        return '';\n    });\n    genres.map(el => {\n        const isInclude = genre_ids.includes(el);\n        if (!isInclude) genre_ids.push(el);\n        return '';\n    });\n    genres = [];\n    genre_ids = getGenresDescription(genre_ids);\n    let ratingValue = 0;\n    rating.map(el => {\n        return (ratingValue += el);\n    });\n    const vote_average = Math.round((ratingValue / rating.length) * 10);\n    const res = {\n        name: collection.name,\n        overview: collection.overview,\n        poster_path: collection.poster_path,\n        backdrop_path: collection.backdrop_path,\n        vote_average,\n        genre_ids,\n    };\n    return res;\n};\n","import { formatDate } from '../dateOperations';\n\nexport const normalizeParts = parts => {\n    const res = parts.map(\n        ({\n            id,\n            title,\n            original_title,\n            poster_path,\n            release_date,\n            vote_average,\n        }) => {\n            const newReleaseDate = formatDate(release_date);\n            return {\n                id,\n                title: title ? title : original_title,\n                poster_path,\n                release_date: newReleaseDate,\n                vote_average: Math.round(vote_average * 10) || 'NR',\n            };\n        }\n    );\n    return res;\n};\n","import styled from '@emotion/styled';\n\nexport const Score = styled.span`\n    position: relative;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: ${({ size }) => size * 60}px;\n    height: ${({ size }) => size * 60}px;\n    color: #fff;\n    border: 1px dashed white;\n    border-radius: 50%;\n    & > span {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        position: relative;\n        border-radius: 50%;\n        width: 100%;\n        height: 100%;\n        background-color: #19171d;\n    }\n    pointer-events: none;\n`;\n\nexport const ScoreProgressBar = styled.svg`\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%) rotate(270deg);\n    z-index: 1;\n`;\n\nexport const ScoreCircle = styled.circle`\n    fill: none;\n    stroke: ${({ color }) => color};\n    stroke-width: ${({ size }) => size * 4};\n    stroke-dasharray: ${({ size }) => 46 * 3.14 * size};\n    stroke-dashoffset: ${({ length }) => length};\n`;\n\nexport const BgrCircle = styled.circle`\n    fill: none;\n    stroke: #ffffff20;\n    stroke-width: ${({ size }) => size * 4};\n    stroke-dasharray: ${({ size }) => 46 * 3.14 * size};\n`;\n\nexport const ScoreSpan = styled.span`\n    font-size: ${({ size }) => size}em;\n`;\n","import { useEffect, useRef, useState } from 'react';\nimport {\n    BgrCircle,\n    Score,\n    ScoreCircle,\n    ScoreProgressBar,\n    ScoreSpan,\n} from './ScoreBar.styled';\nimport { setColor } from 'common/services/set-color';\n\nexport const ScoreBar = ({ rating, style, size }) => {\n    const AnimCircle = useRef();\n    const [currentLength, setCurrentLength] = useState(0);\n    const [currenColor, setCurrentColor] = useState(0);\n\n    useEffect(() => {\n        const totalLength = AnimCircle.current.getTotalLength();\n        const circleLength = !isNaN(rating)\n            ? totalLength - (totalLength / 100) * rating\n            : 0;\n        setCurrentLength(circleLength);\n        setCurrentColor(!isNaN(rating) ? setColor(rating) : '#333');\n    }, [rating, currentLength]);\n\n    return (\n        <Score size={size} style={{ ...style }}>\n            <ScoreProgressBar\n                width={50 * size}\n                height={50 * size}\n                viewBox={`0 0 ${size * 50} ${size * 50}`}\n            >\n                <BgrCircle\n                    size={size}\n                    cx={25 * size}\n                    cy={25 * size}\n                    r={23 * size}\n                ></BgrCircle>\n                <ScoreCircle\n                    size={size}\n                    color={currenColor}\n                    length={currentLength}\n                    ref={AnimCircle}\n                    cx={25 * size}\n                    cy={25 * size}\n                    r={23 * size}\n                ></ScoreCircle>\n            </ScoreProgressBar>\n            <ScoreSpan size={size}>\n                {!isNaN(rating) ? rating + '%' : rating}\n            </ScoreSpan>\n        </Score>\n    );\n};\n","export const setColor = percent => {\n    if (percent < 11) return 'red';\n    if (percent > 10 && percent < 21) return '#ff3000';\n    if (percent > 20 && percent < 31) return '#ff6000';\n    if (percent > 30 && percent < 41) return '#ff9000';\n    if (percent > 40 && percent < 51) return 'yellow';\n    if (percent > 50 && percent < 61) return '#90ff00';\n    if (percent > 60 && percent < 71) return '#60ff00';\n    if (percent > 70 && percent < 81) return '#30ff00';\n    if (percent > 80 && percent < 91) return 'green';\n    if (percent > 90) return 'green';\n    return 'gray';\n};\n"],"names":["CollectionWrapper","styled","theme","breakpoints","xs","spacing","retreatM","lg","movieInfo","bgr","BACKDROP_W1280","noPoster","itemHeight","baseTransition","s","bgrHeight","m","l","xl","retreatL","PosterWrapper","onlyXs","movieInfoOnlyS","onlyM","Poster","CollectionInfoWrapper","colors","themeText","TitleMinor","fontSizes","xxl","ScoreBox","TitleMajor","Description","CollectionInfo","collection","name","overview","poster_path","backdrop_path","vote_average","genre_ids","observer","useRef","gridItemRef","posterRef","useState","setItemHeight","setBgrHeight","useEffect","item","current","poster","ResizeObserver","clientHeight","posterHeight","observe","srcSet","POSTER_W342","ref","src","alt","ScoreBar","size","rating","className","map","el","join","StyledList","StyledLi","accent","mediumBackground","retreatS","StyledLink","Link","MoviePoster","MovieInfoWrapper","MovieInfoTitle","CollectionList","parts","id","title","release_date","to","POSTER_W185","genres","id_28","id_12","id_16","id_35","id_80","id_99","id_18","id_10751","id_14","id_36","id_27","id_10402","id_9648","id_10749","id_878","id_10770","id_53","id_10752","id_37","getGenresDescription","iDs","res","push","collectionId","useParams","first","setFirst","setCollection","setParts","error","setError","split","getDetails","then","data","includes","ratingValue","Math","round","length","normalizeCollection","original_title","formatDate","normalizeParts","catch","err","message","finally","Container","console","log","Score","ScoreProgressBar","ScoreCircle","color","BgrCircle","ScoreSpan","style","AnimCircle","currentLength","setCurrentLength","currenColor","setCurrentColor","percent","totalLength","getTotalLength","circleLength","isNaN","width","height","viewBox","cx","cy","r"],"sourceRoot":""}